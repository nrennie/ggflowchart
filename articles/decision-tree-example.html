<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="ggflowchart">
<title>Decision Tree Example • ggflowchart</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Fraunces-0.4.8/font.css" rel="stylesheet">
<!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Decision Tree Example">
<meta property="og:description" content="ggflowchart">
<meta property="og:image" content="https://nrennie.github.io/ggflowchart/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">ggflowchart</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0.9007</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <h6 class="dropdown-header" data-toc-skip>Examples</h6>
    <a class="dropdown-item" href="../articles/minimal-example.html">Minimal Example</a>
    <a class="dropdown-item" href="../articles/decision-tree-example.html">Decision Tree Example</a>
    <a class="dropdown-item" href="../articles/style-nodes.html">Styling Flowchart Nodes</a>
    <a class="dropdown-item" href="../articles/layout-options.html">Layout Options</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/nrennie" aria-label="GitHub">
    <span class="fa fa-github"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://uk.linkedin.com/in/nicola-rennie" aria-label="LinkedIn">
    <span class="fa fa-linkedin"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://twitter.com/nrennie35" aria-label="Twitter">
    <span class="fa fa-twitter"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://fosstodon.org/@nrennie" aria-label="Mastodon">
    <span class="fa fa-mastodon"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://nrennie.rbind.io/" aria-label="Website">
    <span class="fa fa-globe"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Decision Tree Example</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/nrennie/ggflowchart/blob/HEAD/vignettes/decision-tree-example.Rmd" class="external-link"><code>vignettes/decision-tree-example.Rmd</code></a></small>
      <div class="d-none name"><code>decision-tree-example.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://nrennie.github.io/ggflowchart/">ggflowchart</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="define-input-data">Define input data<a class="anchor" aria-label="anchor" href="#define-input-data"></a>
</h2>
<p>The main input data is a two column data frame or tibble of edges. It
must have two columns, with the first column containing node names for
the “from” nodes, and the second containing node names for the “to”
nodes. Node names must be unique.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">goldilocks</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span></span>
<span>  from <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    <span class="st">"Goldilocks"</span>,</span>
<span>    <span class="st">"Porridge"</span>, <span class="st">"Porridge"</span>, <span class="st">"Porridge"</span>,</span>
<span>    <span class="st">"Just right"</span>,</span>
<span>    <span class="st">"Chairs"</span>, <span class="st">"Chairs"</span>, <span class="st">"Chairs"</span>,</span>
<span>    <span class="st">"Just right2"</span>,</span>
<span>    <span class="st">"Beds"</span>, <span class="st">"Beds"</span>, <span class="st">"Beds"</span>,</span>
<span>    <span class="st">"Just right3"</span></span>
<span>  <span class="op">)</span>,</span>
<span>  to <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    <span class="st">"Porridge"</span>,</span>
<span>    <span class="st">"Too cold"</span>, <span class="st">"Too hot"</span>, <span class="st">"Just right"</span>,</span>
<span>    <span class="st">"Chairs"</span>,</span>
<span>    <span class="st">"Still too big"</span>, <span class="st">"Too big"</span>, <span class="st">"Just right2"</span>,</span>
<span>    <span class="st">"Beds"</span>,</span>
<span>    <span class="st">"Too soft"</span>, <span class="st">"Too hard"</span>, <span class="st">"Just right3"</span>,</span>
<span>    <span class="st">"Bears!"</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Optionally, also define additional node attributes.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">node_data</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span>name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="st">"Goldilocks"</span>, <span class="st">"Porridge"</span>, <span class="st">"Just right"</span>, <span class="st">"Chairs"</span>,</span>
<span>  <span class="st">"Just right2"</span>, <span class="st">"Beds"</span>, <span class="st">"Just right3"</span>, <span class="st">"Too cold"</span>,</span>
<span>  <span class="st">"Too hot"</span>, <span class="st">"Still too big"</span>, <span class="st">"Too big"</span>, <span class="st">"Too soft"</span>,</span>
<span>  <span class="st">"Too hard"</span>, <span class="st">"Bears!"</span></span>
<span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">gsub</a></span><span class="op">(</span><span class="st">"\\d+$"</span>, <span class="st">""</span>, <span class="va">name</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>Create the flowchart using the <code><a href="../reference/ggflowchart.html">ggflowchart()</a></code>
function.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/ggflowchart.html">ggflowchart</a></span><span class="op">(</span><span class="va">goldilocks</span>, <span class="va">node_data</span><span class="op">)</span></span></code></pre></div>
<p><img src="decision-tree-example_files/figure-html/flowchart-1.png" width="700"></p>
<p>We can also specify a column in <code>node_data</code> we want to
colour the nodes based on:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">node_data</span> <span class="op">&lt;-</span> <span class="va">node_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>      <span class="st">"Character"</span>, <span class="st">"Question"</span>, <span class="st">"Answer"</span>,</span>
<span>      <span class="st">"Question"</span>, <span class="st">"Answer"</span>, <span class="st">"Question"</span>,</span>
<span>      <span class="st">"Answer"</span>, <span class="st">"Answer"</span>, <span class="st">"Answer"</span>,</span>
<span>      <span class="st">"Answer"</span>, <span class="st">"Answer"</span>, <span class="st">"Answer"</span>,</span>
<span>      <span class="st">"Answer"</span>, <span class="st">"Character"</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<p>and pass this to the <code>fill</code> argument:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/ggflowchart.html">ggflowchart</a></span><span class="op">(</span><span class="va">goldilocks</span>, <span class="va">node_data</span>, fill <span class="op">=</span> <span class="va">type</span><span class="op">)</span></span></code></pre></div>
<p><img src="decision-tree-example_files/figure-html/flowchart-fill-1.png" width="700"></p>
<p>Note that the column name can be passed either quoted or unquoted
e.g., <code>ggflowchart(goldilocks, node_data, fill = "type")</code>
will also work. If single colour is passed instead (in quotes e.g.,
<code>"blue"</code>) and this is also the name of a column, it will
assume you want to use the values in the column. If that isn’t the case,
please rename the column.</p>
<p>Optionally, add some styling using the {ggplot2} <code><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme()</a></code>
function and title using the <code><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs()</a></code> function.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># add additional packages</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/Nowosad/rcartocolor" class="external-link">rcartocolor</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># make flowchart</span></span>
<span><span class="va">fchart</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ggflowchart.html">ggflowchart</a></span><span class="op">(</span><span class="va">goldilocks</span>,</span>
<span>  <span class="va">node_data</span>,</span>
<span>  fill <span class="op">=</span> <span class="va">type</span>,</span>
<span>  family <span class="op">=</span> <span class="st">"serif"</span>,</span>
<span>  colour <span class="op">=</span> <span class="st">"#585c45"</span>,</span>
<span>  text_colour <span class="op">=</span> <span class="st">"#585c45"</span>,</span>
<span>  arrow_colour <span class="op">=</span> <span class="st">"#585c45"</span>,</span>
<span>  arrow_size <span class="op">=</span> <span class="fl">0.15</span>,</span>
<span>  text_size <span class="op">=</span> <span class="fl">2.5</span>,</span>
<span>  alpha <span class="op">=</span> <span class="fl">0.4</span>,</span>
<span>  x_nudge <span class="op">=</span> <span class="fl">0.45</span>,</span>
<span>  y_nudge <span class="op">=</span> <span class="fl">0.35</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># customise theme</span></span>
<span><span class="va">fchart</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_x_reverse</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/rcartocolor/man/carto_scale.html" class="external-link">scale_fill_carto_d</a></span><span class="op">(</span>palette <span class="op">=</span> <span class="st">"Antique"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span></span>
<span>    title <span class="op">=</span> <span class="st">"The Goldilocks Decision Tree"</span>,</span>
<span>    caption <span class="op">=</span> <span class="st">"Data: Robert Southey. Goldilocks and the Three Bears. 1837."</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span></span>
<span>    legend.position <span class="op">=</span> <span class="st">"none"</span>,</span>
<span>    plot.background <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_rect</a></span><span class="op">(</span></span>
<span>      colour <span class="op">=</span> <span class="st">"#f2e4c1"</span>,</span>
<span>      fill <span class="op">=</span> <span class="st">"#f2e4c1"</span></span>
<span>    <span class="op">)</span>,</span>
<span>    plot.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span></span>
<span>      size <span class="op">=</span> <span class="fl">14</span>,</span>
<span>      hjust <span class="op">=</span> <span class="fl">0</span>,</span>
<span>      face <span class="op">=</span> <span class="st">"bold"</span>,</span>
<span>      family <span class="op">=</span> <span class="st">"serif"</span>,</span>
<span>      colour <span class="op">=</span> <span class="st">"#585c45"</span></span>
<span>    <span class="op">)</span>,</span>
<span>    plot.caption <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span></span>
<span>      size <span class="op">=</span> <span class="fl">8</span>,</span>
<span>      hjust <span class="op">=</span> <span class="fl">0</span>,</span>
<span>      lineheight <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>      face <span class="op">=</span> <span class="st">"bold"</span>,</span>
<span>      family <span class="op">=</span> <span class="st">"serif"</span>,</span>
<span>      colour <span class="op">=</span> <span class="st">"#585c45"</span></span>
<span>    <span class="op">)</span>,</span>
<span>    plot.margin <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">margin</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">5</span>, <span class="fl">5</span>, <span class="fl">5</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<p><img src="decision-tree-example_files/figure-html/flowchart-style-1.png" width="700"></p>
</div>
  </main>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Nicola Rennie.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
